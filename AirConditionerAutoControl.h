#ifndef AirConditionerAutoControl_h
#define AirConditionerAutoControl_h
#endif

#include <DHT.h>
#include <IRsend.h>

#define DHT_PIN         2
#define DHT_TYPE        11
#define IRSEND_PIN      4
#define TEMP_COLD_MODE_LIMIT      33
#define TEMP_COLD_MODE_SET      29
#define TEMP_HOT_MODE_LIMIT      2
#define TEMP_HOT_MODE_SET      21


class AirControl
{
public:

	AirControl(char* ssid, char* pwd);

	void listen();

	DHT dht = DHT(DHT_PIN, DHT_TYPE);

	int getSensorData();

	IRsend irsend = IRsend(IRSEND_PIN);

	//send ir command
	void sendIRcommand(uint16_t command[]);

	String lastCommand;

	//define command data of the air conditioner,it depends on the model
	uint16_t irCold28[147] = {7768,2845,575,1432,519,1438,597,2827,627,2794,575,2823,575,2826,572,1433,574,2824,574,2823,552,1457,574,1403,549,1461,574,1404,573,1439,576,1400,606,2821,574,1406,574,1432,574,1409,572,1405,601,1406,574,1433,572,1408,575,1437,566,1409,575,1432,573,2825,575,2824,575,1433,574,1405,575,1431,575,1404,574,1431,574,1405,574,2848,542,1436,574,1435,515,1459,574,1402,553,1453,574,1402,547,1465,569,1402,547,1459,582,1394,547,1460,573,1407,568,1434,574,1403,604,2818,573,2822,573,1431,518,1459,574,2820,575,1432,573,1403,576,1431,574,1405,574,1433,573,1409,570,1432,574,1404,575,1430,575,1404,575,2850,541,2856,573,1404,605,1402,574,2822,574,2850,518,2882,570,1431,575};
	uint16_t irHot24[147] = {7768,2845,575,1432,519,1438,597,2827,627,2794,575,2823,575,2826,572,1433,574,2824,574,2823,552,1457,574,1403,549,1461,574,1404,573,1439,576,1400,606,2821,574,1406,574,1432,574,1409,572,1405,601,1406,574,1433,572,1408,575,1437,566,1409,575,1432,573,2825,575,2824,575,1433,574,1405,575,1431,575,1404,574,1431,574,1405,574,2848,542,1436,574,1435,515,1459,574,1402,553,1453,574,1402,547,1465,569,1402,547,1459,582,1394,547,1460,573,1407,568,1434,574,1403,604,2818,573,2822,573,1431,518,1459,574,2820,575,1432,573,1403,576,1431,574,1405,574,1433,573,1409,570,1432,574,1404,575,1430,575,1404,575,2850,541,2856,573,1404,605,1402,574,2822,574,2850,518,2882,570,1431,575};
	uint16_t irShut[147] = {7768,2845,575,1432,519,1438,597,2827,627,2794,575,2823,575,2826,572,1433,574,2824,574,2823,552,1457,574,1403,549,1461,574,1404,573,1439,576,1400,606,2821,574,1406,574,1432,574,1409,572,1405,601,1406,574,1433,572,1408,575,1437,566,1409,575,1432,573,2825,575,2824,575,1433,574,1405,575,1431,575,1404,574,1431,574,1405,574,2848,542,1436,574,1435,515,1459,574,1402,553,1453,574,1402,547,1465,569,1402,547,1459,582,1394,547,1460,573,1407,568,1434,574,1403,604,2818,573,2822,573,1431,518,1459,574,2820,575,1432,573,1403,576,1431,574,1405,574,1433,573,1409,570,1432,574,1404,575,1430,575,1404,575,2850,541,2856,573,1404,605,1402,574,2822,574,2850,518,2882,570,1431,575};

};
